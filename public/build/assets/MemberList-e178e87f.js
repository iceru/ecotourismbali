import{r as n,y as c,j as e,a as l,f as M,F as A,d as O}from"./app-a4df2cac.js";import{G as K}from"./GuestLayout-b8813ac5.js";import{I as u}from"./InputLabel-4aa9aaee.js";import{S as f}from"./SelectInput-6fb192c1.js";import{T as V}from"./TextInput-c2aa4c3e.js";import{B as z}from"./Button-f77666b4.js";import{b as $}from"./BadgeColor-10f7fd82.js";import{T as H,P as J}from"./TitlePage-befae724.js";import{q as Q}from"./base-e8aaf39e.js";import{u as R}from"./useTranslation-f7347da2.js";import"./moment-fbc5633a.js";import"./index-56ab0417.js";import"./id-410e5203.js";import"./logo-5e7252b7.js";import"./lodash-fa53239e.js";function ga({programs:E,categories:g,badges:G,members:s}){var k,j;const h=[{label:"Name - Ascending",value:"name-ascending"},{label:"Name - Descending",value:"name-descending"}],{t:i}=R(),[d,x]=n.useState("all"),[v,w]=n.useState(),[m,N]=n.useState(),[y,b]=n.useState(),[U,q]=n.useState(h[0].value),[p,B]=n.useState({}),F=()=>{const a={...p,program:v||null,badge:m||null,keyword:y,category:d};B(a),c.post(route("member.filter",Object.fromEntries(Object.entries(a).filter(([r,o])=>o!=null))),a)},t=Q.parse(location.search);n.useEffect(()=>{const a={program:t.program,badge:t.badge,keyword:t.keyword,category:t.category};t.category&&t.category!=="all"&&x(t.category),t.program&&w(t.program),t.badge&&N(t.badge),t.keyword&&b(t.keyword),t.page||setTimeout(()=>{c.post(route("member.filter",Object.fromEntries(Object.entries(a).filter(([r,o])=>o!=null))),a)},1e3)},[]);const _=a=>{const r={...p,category:a};x(a),c.post(route("member.filter",{category:d}),r)},L=a=>{const r={...p,sort:a};q(a),c.post(route("member.filter"),r)};return e(K,{children:[l(M,{title:"Member List"}),l(H,{title:"list_of_members"}),e("div",{className:"flex flex-wrap justify-between mb-6 pb-6 border-b",children:[e("div",{className:"mb-6 lg:mb-0 lg:w-3/4 lg:pr-4",children:[l("div",{className:"font-bold mb-2 text-lg",children:i("filter")}),e("div",{className:"flex flex-wrap lg:flex-nowrap",children:[e("div",{className:"grid lg:grid-cols-3 w-full lg:w-auto",children:[e("div",{className:"flex items-center mr-4 w-full lg:w-auto mb-4 lg:mb-0",children:[l(u,{className:"mr-4 w-1/4 lg:w-auto",value:i("program")}),l(f,{options:E,labelData:"name",valueData:"id",value:v,className:"w-full",onChange:a=>w(parseInt(a.target.value)),children:l("option",{value:"",children:i("select_program")})})]}),e("div",{className:"flex items-center mr-4 w-full lg:w-auto mb-4 lg:mb-0",children:[l(u,{className:"mr-4 w-1/4 lg:w-auto",value:i("badge")}),l(f,{options:G,value:m,labelData:"name",valueData:"id",className:"w-full",onChange:a=>N(parseInt(a.target.value)),children:l("option",{value:"",children:i("select_badge")})})]}),e("div",{className:"flex items-center mr-4 w-full lg:w-auto mb-4 lg:mb-0",children:[l(u,{className:"mr-4 w-1/4 lg:w-auto",value:i("keyword")}),l(V,{className:"w-full",value:y,onChange:a=>b(a.target.value)})]})]}),l("div",{className:"w-full lg:w-auto",children:l(z,{onClick:F,children:i("filter")})})]})]}),l("div",{className:"lg:w-1/4 ",children:e("div",{className:"ml-auto lg:w-3/4",children:[l("div",{className:"font-bold mb-2 text-lg inline-flex",children:i("sort")}),l("div",{className:"flex",children:l("div",{className:"flex items-center",children:l(f,{options:h,onChange:a=>L(a.target.value)})})})]})})]}),e("div",{className:"flex flex-wrap",children:[l("div",{className:"sidebar w-full lg:w-1/6",children:e("ul",{className:"text-gray-600 font-light flex lg:block whitespace-nowrap overflow-auto gap-4 mb-6 lg:mb-0 pb-4",children:[l("li",{className:`cursor-pointer lg:mb-6 ${d==="all"?"font-bold text-primary":""}`,onClick:()=>_("all"),children:i("all")}),g==null?void 0:g.map(a=>l("li",{onClick:()=>_(a.id),id:a.id,className:`cursor-pointer lg:mb-6 whitespace-nowrap lg:whitespace-break-spaces ${d===a.id?"font-bold text-primary":""}`,children:i(a.name)}))]})}),e("div",{className:"lg:w-5/6 lg:pl-6",children:[l("div",{className:"grid xl:grid-cols-3 md:grid-cols-2 gap-4 h-fit",children:((k=s==null?void 0:s.data)==null?void 0:k.length)>0?(j=s==null?void 0:s.data)==null?void 0:j.map(a=>{var r,o,S,C,P,D,I,T;return e("div",{className:"border rounded-2xl p-4 h-fit",children:[((r=a==null?void 0:a.program)==null?void 0:r.name)==="Green Pal"?l("div",{className:`rounded-bl-2xl rounded-tr-2xl text-white px-3 py-1 text-[12px] flex 
                      -mt-4 -mr-4 w-fit float-right items-center bg-greenpal`,children:"Green Pal"}):l(A,{children:a!=null&&a.verified_badge_id?l("div",{children:e("div",{className:`rounded-bl-2xl rounded-tr-2xl text-white px-3 py-1 text-[12px] flex -mt-4 
                      -mr-4 w-fit float-right items-center  
                    ${$((o=a==null?void 0:a.verified_badge)==null?void 0:o.name,"color")}
                    `,children:[l("div",{children:l("img",{src:"/storage/badges/"+((S=a.badge)==null?void 0:S.image),alt:"",className:"h-6 mr-2 brightness-0 filter invert"})}),e("span",{children:["Verified ",(C=a==null?void 0:a.verified_badge)==null?void 0:C.name]})]})}):a.badge&&!(a!=null&&a.verified_badge_id)?e("div",{className:`rounded-bl-2xl rounded-tr-2xl text-white px-3 py-1 text-[12px] flex -mt-4 
                        -mr-4 w-fit float-right items-center  
                      ${$((P=a==null?void 0:a.badge)==null?void 0:P.name,"color")}
                      `,children:[l("div",{children:l("img",{src:"/storage/badges/"+((D=a.badge)==null?void 0:D.image),alt:"",className:"h-6 mr-2 brightness-0 filter invert"})}),l("span",{children:(I=a.badge)==null?void 0:I.name})]}):l("div",{className:"rounded-bl-2xl rounded-tr-2xl bg-gray-100  px-3 py-1 text-[12px] flex -mt-4 -mr-4 w-fit float-right",children:l("div",{children:i("no_badge")})})}),e("div",{className:"flex items-center mb-3 mt-5",children:[(a==null?void 0:a.image)&&l("div",{className:"mr-3 rounded-full w-[62px] h-[62px] bg-lightPrimary bg-opacity-30 flex justify-center items-center",children:l("img",{src:`/storage/member/images/${a==null?void 0:a.image}`,alt:a.bussiness_name,className:"w-[62px] max-h-[62px] object-contain rounded-full"})}),e(O,{href:route("member.detail",a.slug),children:[l("h4",{className:"font-bold text-lg leading-[22px] mb-1",children:a.business_name}),a.category&&l("h6",{className:"text-xs uppercase text-primary",children:(T=a.category)==null?void 0:T.name})]})]}),l("p",{className:"mb-3 text-sm line-clamp-3",children:a==null?void 0:a.description}),l(O,{href:route("member.detail",a.slug),className:"text-sm text-primary font-semibold",children:i("learn_more")})]})}):l("div",{className:"",children:l("h3",{className:" text-primary font-xl ",children:"Not Found"})})}),l(J,{class:"mt-6",links:s==null?void 0:s.links})]})]})]})}export{ga as default};
