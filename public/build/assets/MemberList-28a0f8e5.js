import{r as s,t as o,j as a,b as e,f as B,F as M,d as j}from"./app-b9ba7320.js";import{G as A}from"./GuestLayout-12162b84.js";import{I as c}from"./InputLabel-7090ca46.js";import{S as g}from"./SelectInput-ad21d6a5.js";import{T as K}from"./TextInput-364987d5.js";import{P as V}from"./PrimaryButton-1410e6bf.js";import{b as k}from"./BadgeColor-f042247d.js";import{u as q}from"./useTranslation-4c7cdb87.js";import"./moment-fbc5633a.js";import"./index-fc8df744.js";import"./id-410e5203.js";import"./logo-5e7252b7.js";import"./lodash-12b4c8bc.js";function al({programs:P,categories:n,badges:D,members:r}){const u=[{label:"Name - Ascending",value:"name-ascending"},{label:"Name - Descending",value:"name-descending"}],{t}=q(),[i,f]=s.useState("all"),[p,I]=s.useState(),[h,$]=s.useState(),[G,E]=s.useState(),[x,F]=s.useState(u[0].value),[d,L]=s.useState({}),T=()=>{const l={...d,program:p!==""?p:null,badge:h!==""?h:null,keyword:G,category:i};L(l),o.post(route("member.filter"),l)};return s.useEffect(()=>{const l={...d,category:i};o.post(route("member.filter"),l)},[i]),s.useEffect(()=>{const l={...d,sort:x};o.post(route("member.filter"),l)},[x]),a(A,{children:[e(B,{title:"Member List"}),e("h1",{className:"font-bold text-2xl lg:text-3xl mb-6 lg:mb-10",children:t("list_of_members")}),a("div",{className:"flex flex-wrap justify-between mb-6 pb-6 border-b",children:[a("div",{className:"mb-6 lg:mb-0 lg:w-3/4 lg:pr-4",children:[e("div",{className:"font-bold mb-2 text-lg",children:t("filter")}),a("div",{className:"flex flex-wrap lg:flex-nowrap",children:[a("div",{className:"grid lg:grid-cols-3 w-full lg:w-auto",children:[a("div",{className:"flex items-center mr-4 w-full lg:w-auto mb-4 lg:mb-0",children:[e(c,{className:"mr-4 w-1/4 lg:w-auto",value:t("program")}),e(g,{options:P,labelData:"name",valueData:"id",className:"w-full",onChange:l=>I(parseInt(l.target.value)),children:e("option",{value:"",children:t("select_program")})})]}),a("div",{className:"flex items-center mr-4 w-full lg:w-auto mb-4 lg:mb-0",children:[e(c,{className:"mr-4 w-1/4 lg:w-auto",value:t("badge")}),e(g,{options:D,labelData:"name",valueData:"id",className:"w-full",onChange:l=>$(parseInt(l.target.value)),children:e("option",{value:"",children:t("select_badge")})})]}),a("div",{className:"flex items-center mr-4 w-full lg:w-auto mb-4 lg:mb-0",children:[e(c,{className:"mr-4 w-1/4 lg:w-auto",value:t("keyword")}),e(K,{className:"w-full",onChange:l=>E(l.target.value)})]})]}),e("div",{className:"w-full lg:w-auto",children:e(V,{onClick:T,children:t("filter")})})]})]}),e("div",{className:"lg:w-1/4 ",children:a("div",{className:"ml-auto lg:w-3/4",children:[e("div",{className:"font-bold mb-2 text-lg inline-flex",children:t("sort")}),e("div",{className:"flex",children:e("div",{className:"flex items-center",children:e(g,{options:u,onChange:l=>F(l.target.value)})})})]})})]}),a("div",{className:"flex flex-wrap",children:[e("div",{className:"sidebar w-full lg:w-1/6",children:a("ul",{className:"text-gray-600 font-light flex lg:block whitespace-nowrap overflow-auto gap-4 mb-6 lg:mb-0 pb-4",children:[e("li",{className:`cursor-pointer lg:mb-6 ${i==="all"?"font-bold text-primary":""}`,onClick:()=>f("all"),children:t("all")}),n==null?void 0:n.map(l=>e("li",{onClick:()=>f(l.id),id:l.id,className:`cursor-pointer lg:mb-6 whitespace-break-spaces ${i===l.id?"font-bold text-primary":""}`,children:t(l.name)}))]})}),e("div",{className:"lg:w-5/6 grid lg:pl-6 xl:grid-cols-3 lg:grid-cols-2 gap-4 h-fit",children:r.length>0?r==null?void 0:r.map(l=>{var m,v,w,N,y,b,_,C,S;return a("div",{className:"border rounded-2xl p-4 h-full",children:[((m=l==null?void 0:l.program)==null?void 0:m.name)==="Green Pal"?e("div",{className:`rounded-bl-2xl rounded-tr-2xl text-white px-3 py-1 text-[12px] flex 
                      -mt-4 -mr-4 w-fit float-right items-center bg-greenpal`,children:"Green Pal"}):e(M,{children:l!=null&&l.verified_badge_id?e("div",{children:a("div",{className:`rounded-bl-2xl rounded-tr-2xl text-white px-3 py-1 text-[12px] flex -mt-4 
                      -mr-4 w-fit float-right items-center  
                    ${k((v=l==null?void 0:l.verified_badge)==null?void 0:v.name,"color")}
                    `,children:[e("div",{children:e("img",{src:"/storage/badges/"+((w=l.badge)==null?void 0:w.image),alt:"",className:"h-6 mr-2 brightness-0 filter invert"})}),a("span",{children:["Verified ",(N=l==null?void 0:l.verified_badge)==null?void 0:N.name]})]})}):l.badge&&!(l!=null&&l.verified_badge_id)?a("div",{className:`rounded-bl-2xl rounded-tr-2xl text-white px-3 py-1 text-[12px] flex -mt-4 
                        -mr-4 w-fit float-right items-center  
                      ${k((y=l==null?void 0:l.badge)==null?void 0:y.name,"color")}
                      `,children:[e("div",{children:e("img",{src:"/storage/badges/"+((b=l.badge)==null?void 0:b.image),alt:"",className:"h-6 mr-2 brightness-0 filter invert"})}),e("span",{children:(_=l.badge)==null?void 0:_.name})]}):e("div",{className:"rounded-bl-2xl rounded-tr-2xl bg-gray-100  px-3 py-1 text-[12px] flex -mt-4 -mr-4 w-fit float-right",children:e("div",{children:t("no_badge")})})}),a("div",{className:"flex items-center mb-3 mt-5",children:[(l==null?void 0:l.image)&&e("div",{className:"mr-3 rounded-full w-[62px] h-[62px] bg-lightPrimary bg-opacity-30 flex justify-center items-center",children:e("img",{src:`/storage/member/images/${l==null?void 0:l.image}`,alt:l.bussiness_name,className:"w-[62px] max-h-[62px] object-contain rounded-full"})}),a(j,{href:route("member.detail",l.slug),children:[e("h4",{className:"font-bold text-lg",children:l.business_name}),l.category&&e("h6",{className:"text-xs uppercase text-primary",children:(C=l.category)==null?void 0:C.name})]})]}),e("p",{className:"mb-3 text-sm",children:(S=l==null?void 0:l.description)==null?void 0:S.slice(0,100)}),e(j,{href:route("member.detail",l.slug),className:"text-sm text-primary font-semibold",children:t("learn_more")})]})}):e("div",{className:"text-center flex justify-center",children:e("h3",{className:" text-primary font-xl ",children:"Not Found"})})})]})]})}export{al as default};
