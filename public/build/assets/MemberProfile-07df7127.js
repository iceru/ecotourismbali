import{q as $,b as a,j as i}from"./app-9e00b5ef.js";import{F as s,t as w,u as A,b as _,s as j,v as C}from"./index-4a002de0.js";import{S as I,f as O,a as T,b as B,c as F}from"./index-09b249c2.js";import{A as M}from"./id-6f031bfd.js";import{M as E,n as G}from"./MemberLayout-7e7f3fd8.js";import{P as S}from"./PrimaryButton-5782a9f7.js";import{l as L}from"./lodash-ab7629a4.js";import{b as q}from"./BadgeColor-d64a7300.js";import{h as z}from"./moment-fbc5633a.js";import{u as H}from"./useTranslation-52095b2a.js";import"./react-responsive-b8b083e1.js";function R(t){let e=t;return t&&(t.toString().indexOf("62")===0?e=t.toString().slice(2):t.toString().indexOf("+62")===0?e=t.toString().slice(3):t.toString().indexOf("0062")===0?e=t.toString().slice(4):t.toString().indexOf("0")===0&&(e=t.toString().slice(1))),e}function W(t){return!t||Number.isNaN(t)?null:62+R(t)}function tt({member:t,scores:e,lastSession:c,expiredDate:k}){var r,o,h,f,p,g,x,u,N,v;const{t:l}=H(),{flash:d}=$().props,P={dots:!0,infinite:!0,speed:500,slidesToShow:t.member_slider.length>1?2:t.member_slider.length,slidesToScroll:1};return a(E,{children:i(M,{children:[a("h2",{className:"font-bold text-xl mb-4",children:l("my_profile")}),d.success&&i("div",{className:"bg-green-100 border border-green-400 mb-3 text-green-700 px-4 py-3 rounded relative",children:[a("strong",{className:"font-bold mr-2",children:"Success!"}),a("span",{className:"inline",children:d.success})]}),i(S,{as:"link",href:route("member.profile.edit",t==null?void 0:t.id),className:"mb-6 flex items-center gap-2",children:[l("edit_profile"),a(s,{icon:w})]}),i("div",{className:"flex flex-wrap",children:[i("div",{className:"w-full mb-4 lg:mb-0 lg:w-4/5",children:[i("div",{className:"flex items-center mb-10",children:[a("div",{children:t.image?a("img",{className:"w-24 h-24 rounded-full mr-4 object-cover",src:`/storage/member/images/${t.image}`,alt:""}):a("img",{className:"w-24 h-24 rounded-full mr-4",src:G,alt:""})}),i("div",{children:[a("h3",{className:"font-bold text-lg",children:t.business_name||"Business Name"}),t.category&&a("h6",{className:"uppercase text-primary",children:(r=t.category)==null?void 0:r.name}),t.program&&a("h6",{className:"text-sm",children:(o=t.program)==null?void 0:o.name})]})]}),a("div",{className:"mb-10",children:t.member_slider.length>0?a("div",{className:"-mx-2",children:a(I,{...P,children:t.member_slider.map(n=>a("div",{className:"px-2",children:a("div",{class:"relative overflow-hidden pb-2/3",children:a("img",{src:`/storage/member/sliders/${n.image}`,alt:"",class:"absolute h-full w-full object-cover p-2"})})}))})}):i("div",{className:"flex gap-2 text-gray-600 justify-center items-center p-6 py-12 border rounded-lg border-dashed border-gray-600",children:[l("add_slider"),a(s,{icon:A})]})}),i("div",{className:"flex justify-center gap-8 mb-10",children:[a("div",{children:t!=null&&t.address?i("div",{className:"flex gap-2 text-gray-600 justify-center items-center",children:[a(s,{icon:_}),a("div",{children:t.address})]}):i("a",{className:"flex gap-2 text-gray-600 justify-center items-center cursor-pointer",href:route("member.profile.edit",t==null?void 0:t.id),children:[l("add_address"),a(s,{icon:_})]})}),a("div",{children:t!=null&&t.website?i("div",{className:"flex gap-2 text-gray-600 justify-center items-center",children:[a(s,{icon:j}),a("div",{children:t.website})]}):i("a",{className:"flex gap-2 text-gray-600 justify-center items-center cursor-pointer",href:route("member.profile.edit",t==null?void 0:t.id),children:[l("add_website"),a(s,{icon:j})]})})]}),a("div",{className:"mb-6",children:t!=null&&t.description?a("div",{className:"text-justify",children:t.description}):i("a",{className:"flex gap-2 text-gray-600 justify-center items-center cursor-pointer",href:route("member.profile.edit",t==null?void 0:t.id),children:[l("add_description"),a(s,{icon:w})]})}),i("div",{className:"flex justify-between items-end gap-6",children:[i("div",{className:"flex gap-6 h-fit",children:[t.facebook&&a("div",{className:"w-12 h-12 flex justify-center items-center rounded-full bg-primary text-white",children:a("a",{href:(h=t==null?void 0:t.facebook)!=null&&h.includes("http")?t.facebook:`https://${t.facebook}`,target:"_blank",className:"mt-1",children:a(s,{icon:O,className:"text-2xl"})})}),t.instagram&&a("div",{className:"w-12 h-12 flex justify-center items-center rounded-full bg-primary text-white",children:a("a",{href:(f=t.instagram)!=null&&f.includes("http")?t.instagram:`https://${t.instagram}`,target:"_blank",className:"mt-1",children:a(s,{icon:T,className:"text-2xl"})})}),t.whatsapp&&a("div",{className:"w-12 h-12 flex justify-center items-center rounded-full bg-primary text-white",children:a("a",{href:(p=t.whatsapp)!=null&&p.includes("http")?t.whatsapp:`https://wa.me/${W(t.whatsapp)}`,target:"_blank",className:"mt-1",children:a(s,{icon:B,className:"text-2xl"})})}),t.twitter&&a("div",{className:"w-12 h-12 flex justify-center items-center rounded-full bg-primary text-white",children:a("a",{href:(g=t.twitter)!=null&&g.includes("http")?t.twitter:`https://${t.twitter}`,target:"_blank",className:"mt-1",children:a(s,{icon:F,className:"text-2xl"})})})]}),(t==null?void 0:t.merchant_promo)&&i("div",{className:"bg-primary text-white p-4 rounded-xl",children:[a("h5",{className:"font-semibold text-lg mb-2",children:l("merchant_promo")}),a("p",{children:t==null?void 0:t.merchant_promo})]})]})]}),((x=t==null?void 0:t.program)==null?void 0:x.name)!=="Green Pal"&&a("div",{className:"w-full lg:w-1/5",children:t.badge?i("div",{children:[i("div",{className:"flex flex-col items-center   mb-1",children:[a("div",{children:a("img",{className:"max-h-[120px]",src:"/storage/badges/"+((u=t==null?void 0:t.badge)==null?void 0:u.image)})}),i("div",{className:`font-bold mt-1 text-center uppercase ${q((N=t==null?void 0:t.badge)==null?void 0:N.name,"text")}`,children:[(v=t==null?void 0:t.badge)==null?void 0:v.name," Badge"]}),i("div",{className:"text-xs text-center mt-1 mb-1 text-gray-500",children:["Expired: ",z(k).format("ll")]})]}),c&&i("div",{className:"text-center text-gray-500 text-xs mb-1",children:[a("span",{className:"font-bold",children:c.total_score})," ",a("span",{className:" uppercase",children:"Points"})]}),e==null?void 0:e.map(n=>{var y;return i("div",{className:"flex justify-center text-gray-500 text-xs mb-1",children:[a("div",{className:"capitalize",children:L.lowerCase((y=n==null?void 0:n.assessment)==null?void 0:y.title).slice(0,11)}),a("div",{className:"mx-1",children:"-"}),a("div",{children:n==null?void 0:n.score})]})})]}):a("div",{children:i(S,{as:"link",href:route("member.assessment.index"),color:"lightPrimary",className:"flex gap-2 items-center",children:[l("start_assessment"),a(s,{icon:C})]})})})]})]})})}export{tt as default};
