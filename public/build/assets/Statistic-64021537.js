import{r as p,a,j as l,d as f}from"./app-386a5830.js";import{A as v}from"./AdminLayout-2f519460.js";import{A as x}from"./AdminSection-e4bf563a.js";import{C as N,r as C,B as A}from"./index-44e62ae5.js";import g from"./PieChart-6d541e79.js";import"./Button-ff0fa86d.js";import"./logo-5e7252b7.js";import"./index-4c4ddfcc.js";import"./id-410e5203.js";import"./react-responsive-50926389.js";import"./useTranslation-cdd3817d.js";function k({sessions:d,badges:h,programs:b}){N.register(...C);const[s,u]=p.useState([]);return p.useEffect(()=>{let r=d==null?void 0:d.filter(e=>{var t,o;return(o=(t=e==null?void 0:e.member)==null?void 0:t.status)==null?void 0:o.includes("active")});r=r.sort((e,t)=>parseInt(t.total_score)-parseInt(e.total_score)),u(r)},[]),a(v,{children:l("main",{className:"grid gap-6",children:[l(x,{children:[a("h3",{className:"mb-4 font-bold text-xl",children:"Highest Score on Assessment:"}),l("div",{className:"grid lg:grid-cols-2 gap-6",children:[a("div",{children:a(A,{datasetIdKey:"id",data:{labels:s==null?void 0:s.map(r=>{var e;return(e=r==null?void 0:r.member)==null?void 0:e.business_name.slice(0,15)}),datasets:[{label:"Assessment Score",data:s.map(r=>r.total_score),backgroundColor:["#1F656C","#7BB052","#D8E8CC","#D2E0E2"]}],options:{responsive:!0,plugins:{legend:{position:"top"}}}}})}),a("div",{children:a("ol",{children:s==null?void 0:s.map((r,e)=>{var t,o,c,n,m,i;if((o=(t=r==null?void 0:r.member)==null?void 0:t.status)!=null&&o.includes("active"))return a(f,{href:route("statistic.assessmentDetail",(c=r==null?void 0:r.member)==null?void 0:c.id),children:l("li",{className:"flex items-center mb-2",children:[l("div",{className:"mr-2",children:[e+1,"."]}),((n=r==null?void 0:r.member)==null?void 0:n.image)&&a("div",{children:a("img",{className:"w-8 h-8 object-contain rounded-full mr-2",src:`/storage/member/images/${(m=r==null?void 0:r.member)==null?void 0:m.image}`,alt:""})}),a("div",{className:"",children:(i=r==null?void 0:r.member)==null?void 0:i.business_name}),l("div",{className:"font-bold text-primary",children:["- ",r==null?void 0:r.total_score]})]})})})})})]})]}),a(g,{title:"Total Badges on All Members",items:h,imagePath:"badges",storagePath:"badges"}),a(g,{title:"Total Programs on All Members",items:b,imagePath:"programs",storagePath:"programs"})]})})}export{k as default};
