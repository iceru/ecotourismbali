import{r as o,y as r,j as s,a as l,c as K,F as V}from"./app-eb310f42.js";import{G as z}from"./GuestLayout-1d875396.js";import{I as p}from"./InputLabel-06ca9cfe.js";import{S as v}from"./SelectInput-7ad7c0bc.js";import{T as H}from"./TextInput-bb92cc2c.js";import{B as J}from"./Button-613be3a1.js";import{P as $}from"./Pagination-182cbcde.js";import{q as Q}from"./base-e8aaf39e.js";import R from"./MemberItem-9c4a3d39.js";import U from"./MemberItemTourism-5ec1d88c.js";import{u as W}from"./useTranslation-6a279b16.js";import"./moment-fbc5633a.js";import"./logo-5e7252b7.js";import"./index-6a2e22d1.js";import"./index-25fc1de7.js";import"./id-410e5203.js";import"./lodash-3e1bf4ed.js";import"./BadgeColor-f0845e7b.js";function ve({programs:u,categories:f,badges:X,members:t,tribe:a,sources:E,verified_badges:F}){var _,B,D,T;const w=[{label:"Name - Ascending",value:"name-ascending"},{label:"Name - Descending",value:"name-descending"}],{t:i}=W(),[d,m]=o.useState("all"),[M,x]=o.useState(),[P,N]=o.useState(),[y,k]=o.useState(),[S,g]=o.useState(),[j,I]=o.useState(),[Y,q]=o.useState(w[0].value),[h,L]=o.useState({}),b=({programData:e})=>{let c={...h,program:parseInt(M)||null,badge:P||null,verified_badge:y||null,keyword:S,category:d,source:j};e&&(c={program:parseInt(e)},x(parseInt(e)),N(),m(),I(),g()),L(c),r.post(route("member.filter",Object.fromEntries(Object.entries(c).filter(([O,G])=>G!=null))),c)},n=Q.parse(location.search);o.useEffect(()=>{const e={program:n.program,badge:n.badge,verified_badge:n.verified_badge,keyword:n.keyword,category:n.category};n.category&&n.category!=="all"&&m(parseInt(n.category)),n.program&&x(n.program),n.badge&&N(n.badge),n.badge&&k(n.verified_badge),n.keyword&&g(n.keyword),n.page||setTimeout(()=>{r.post(route("member.filter",Object.fromEntries(Object.entries(e).filter(([c,O])=>O!=null))),e)},1e3)},[]);const C=e=>{const c={...h,category:e};m(e),r.post(route("member.filter",{category:d}),c)},A=e=>{const c={...h,sort:e};q(e),r.post(route("member.filter"),c)};return s(z,{children:[l(K,{title:"Member List"}),l("h1",{className:"text-3xl lg:text-4xl mb-8 font-bold",children:i("etb_network")}),s("div",{className:"flex justify-between flex-wrap lg:flex-nowrap items-center mb-6",children:[s("div",{className:"flex items-center gap-4 mb-4 lg:mb-0",children:[l("img",{src:`/storage/programs/${a==null?void 0:a.image}`,className:"w-20 h-20 object-contain",alt:""}),s("div",{children:[l("h1",{className:"text-3xl font-bold mb-1",children:a==null?void 0:a.name}),l("p",{className:"lg:max-w-[75%]",children:a==null?void 0:a.description})]})]}),l("div",{className:"flex gap-8 items-start w-full justify-center lg:w-fit lg:justify-start",children:u==null?void 0:u.map(e=>s("button",{type:"button",onClick:()=>{b({programData:e!=null&&e.id?parseInt(e==null?void 0:e.id):null})},className:"text-center",children:[l("img",{src:`/storage/programs/${e==null?void 0:e.image}`,className:"w-20 h-20 object-contain mb-1 mx-auto hover:scale-105 transition",alt:""}),l("p",{className:"font-bold w-40 text-center",children:e==null?void 0:e.name})]}))})]}),s("div",{className:"flex flex-wrap justify-between mb-6 pb-6 border-b",children:[s("div",{className:"mb-6 lg:mb-0 lg:w-3/4 lg:pr-4",children:[l("div",{className:"font-bold mb-2 text-lg",children:i("filter")}),s("div",{className:"flex flex-wrap lg:flex-nowrap",children:[s("div",{className:"flex w-full lg:w-auto flex-wrap lg:flex-nowrap",children:[(a==null?void 0:a.id)===1&&l(V,{children:s("div",{className:"flex items-center mr-4 w-full lg:w-auto mb-4 lg:mb-0",children:[l(p,{className:"mr-4 w-1/4 lg:w-auto lg:whitespace-nowrap",value:i("verified_badge")}),l(v,{options:F,value:y,labelData:"name",valueData:"id",className:"w-full",onChange:e=>k(parseInt(e.target.value)),children:l("option",{value:"",children:i("select_verified_badge")})})]})}),(a==null?void 0:a.id)===2&&s("div",{className:"flex items-center mr-4 w-full lg:w-auto mb-4 lg:mb-0",children:[l(p,{className:"mr-4 w-1/4 lg:w-auto",value:i("sources")}),l(v,{options:E,value:j,labelData:"title",valueData:"id",className:"w-full",onChange:e=>I(parseInt(e.target.value)),children:l("option",{value:"",children:i("select_source")})})]}),s("div",{className:"flex items-center mr-4 w-full lg:w-auto mb-4 lg:mb-0",children:[l(p,{className:"mr-4 w-1/4 lg:w-auto",value:i("keyword")}),l(H,{className:"w-full",value:S,onChange:e=>g(e.target.value)})]})]}),l("div",{className:"w-full lg:w-auto",children:l(J,{onClick:b,children:i("filter")})})]})]}),l("div",{className:"lg:w-1/4 ",children:s("div",{className:"ml-auto lg:w-3/4",children:[l("div",{className:"font-bold mb-2 text-lg inline-flex",children:i("sort")}),l("div",{className:"flex",children:l("div",{className:"flex items-center",children:l(v,{options:w,onChange:e=>A(e.target.value)})})})]})})]}),s("div",{className:"flex flex-wrap",children:[a.id===1&&l("div",{className:"sidebar w-full lg:w-1/6",children:s("ul",{className:"text-gray-600 font-light flex lg:block whitespace-nowrap overflow-auto gap-4 mb-6 lg:mb-0 pb-4",children:[l("li",{className:`cursor-pointer lg:mb-6 ${d==="all"?"font-bold text-primary":""}`,onClick:()=>C("all"),children:i("all")}),f==null?void 0:f.map(e=>l("li",{onClick:()=>C(e.id),id:e.id,className:`cursor-pointer lg:mb-6 whitespace-nowrap lg:whitespace-break-spaces ${d===e.id?"font-bold text-primary":""}`,children:i(e.name)}))]})}),(a==null?void 0:a.id)===1?s("div",{className:"lg:w-5/6 lg:pl-6",children:[l("div",{className:`${(a==null?void 0:a.id)===1?"xl:grid-cols-3":"xl:grid-cols-4"} grid md:grid-cols-2 gap-4 h-fit`,children:((_=t==null?void 0:t.data)==null?void 0:_.length)>0?(B=t==null?void 0:t.data)==null?void 0:B.map(e=>l(R,{member:e,tribe:a})):l("div",{className:"",children:l("h3",{className:" text-primary font-xl ",children:"Not Found"})})}),l($,{class:"mt-6",links:t==null?void 0:t.links})]}):s("div",{className:"w-full",children:[s("div",{className:"grid member-tourism font-bold mb-6 bg-primary text-white py-4 px-4 gap-6",children:[l("div",{children:"Type"}),l("div",{children:"Business Name"}),l("div",{children:"Category"}),l("div",{children:"Directory Source"}),l("div",{children:"Action"})]}),((D=t==null?void 0:t.data)==null?void 0:D.length)>0?(T=t==null?void 0:t.data)==null?void 0:T.map((e,c)=>l(U,{member:e,index:c,tribe:a})):l("div",{className:"",children:l("h3",{className:" text-primary font-xl ",children:"Not Found"})}),l($,{class:"mt-6",links:t==null?void 0:t.links})]})]})]})}export{ve as default};
