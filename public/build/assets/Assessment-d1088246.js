import{r as N,W as $,j as s,a as c,t as k}from"./app-b68ca84b.js";import{A as j}from"./id-2b80e7ce.js";import{M as S}from"./MemberLayout-c95335af.js";import A from"./TitleSection-0d306478.js";import{P as u}from"./PrimaryButton-409c24e8.js";import{u as C}from"./useTranslation-a4c98ac6.js";import"./index-d6686199.js";import"./react-responsive-b1a3aa7e.js";function F({assessments:d,session:o}){const[l,g]=N.useState(0),{t:h,i18n:x}=C(),{data:p,setData:m,post:f,processing:w,errors:M}=$(),n=x.language;console.log(p);const b=e=>{e.preventDefault(),f(route("member.assessment.save"),{onSuccess:()=>{d.length>l+1?(g(l+1),m({})):k.post(route("member.assessment.complete",o.id))}})},y=(e,a)=>{m(t=>({...t,[`radio.${e}`]:a,assessment_id:d[l].id,session_id:o.id}))},_=(e,a)=>{m(t=>{const i=t[`checkbox.${e}`]||[];if(i.includes(a)){const r=i.filter(v=>v!==a);return{...t,[`checkbox.${e}`]:r}}else{const r=[...i,a];return{...t,[`checkbox.${e}`]:r}}})};return s(S,{children:c(j,{children:[s(A,{title:"assessment",className:"mb-6"}),s("div",{children:d.map((e,a)=>c("form",{onSubmit:b,className:`${l===a?"":"hidden"}`,children:[s("div",{className:"mb-4 flex justify-center",children:s("img",{src:`/storage/assessments/${n==="en"&&e.image_en?e.image_en:e.image}`,alt:""})}),s("div",{className:"font-bold mb-3 text-xl text-center",children:n==="en"&&e.title_en?e.title_en:e.title}),s("div",{dangerouslySetInnerHTML:{__html:n==="en"&&e.description_en?e.description_en:e.description},className:"text-center mb-10"}),e.assessment_question.map((t,i)=>c("div",{children:[s("div",{className:"font-bold text-lg",children:t.title}),s("div",{dangerouslySetInnerHTML:{__html:n==="en"&&t.question_en?t.question_en:t.question}}),s("div",{className:"mt-4",children:t.assessment_option.map(r=>c("div",{className:"flex items-center px-5 py-3 mb-4 rounded-3xl bg-lightPrimary bg-opacity-60",children:[t.type==="radio"?s("input",{type:"radio",name:`radio.${t.id}`,id:`option_${r.id}`,value:r.id,className:"mr-3 text-primary focus:ring-primary",checked:p[`radio.${t.id}`]===r.id,required:!0,onChange:()=>y(t.id,r.id)}):s("input",{type:"checkbox",name:`checkbox.${t.id}`,id:`option_${r.id}`,value:r.id,className:"mr-3 text-primary focus:ring-primary",onChange:()=>_(t.id,r.id)}),s("label",{htmlFor:`option_${r.id}`,className:"w-full",children:n==="en"&&r.option_en?r.option_en:r.option})]}))}),i+1!==e.assessment_question.length&&s("div",{className:"h-0.5 w-1/2 my-10 box-border left-1/2 mx-auto -translate-y-1/2 bg-gray-300"})]})),c("div",{className:"flex justify-center gap-6 mt-6",children:[s(u,{className:"min-w-[160px] flex justify-center",color:"gray",children:h("back")}),s(u,{type:"submit",className:"min-w-[160px] flex justify-center",children:h("next")})]})]}))})]})})}export{F as default};
