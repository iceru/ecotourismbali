import{r as o,y as r,j as s,a as e,c as F}from"./app-cef3faf9.js";import{G}from"./GuestLayout-6ae6e038.js";import{I as v}from"./InputLabel-186625aa.js";import{S as w}from"./SelectInput-036ea80b.js";import{T as K}from"./TextInput-63f05377.js";import{B as z}from"./Button-1961f95c.js";import{P as b}from"./Pagination-9e792451.js";import{q as H}from"./base-e8aaf39e.js";import J from"./MemberItem-dd10f12f.js";import Q from"./MemberItemTourism-cf1f302d.js";import{u as R}from"./useTranslation-1b551713.js";import"./moment-fbc5633a.js";import"./logo-5e7252b7.js";import"./index-b059f628.js";import"./index-25fc1de7.js";import"./id-410e5203.js";import"./lodash-a609a8b8.js";import"./BadgeColor-ce5b12f1.js";function gl({programs:u,categories:m,badges:B,members:t,tribe:a,sources:E,categoriesTourism:U}){var T,D,O,_;const N=[{label:"Name - Ascending",value:"name-ascending"},{label:"Name - Descending",value:"name-descending"}],{t:c}=R(),[d,f]=o.useState("all"),[M,x]=o.useState(),[y,g]=o.useState(),[k,h]=o.useState(),[S,I]=o.useState(),[V,P]=o.useState(N[0].value),[p,q]=o.useState({}),j=({programData:l})=>{let i={...p,program:parseInt(M)||null,badge:y||null,keyword:k,category:d,source:S};l&&(i={program:parseInt(l)},x(parseInt(l)),g(),f(),I(),h()),q(i),r.post(route("member.filter",Object.fromEntries(Object.entries(i).filter(([$,A])=>A!=null))),i)},n=H.parse(location.search);o.useEffect(()=>{const l={program:n.program,badge:n.badge,keyword:n.keyword,category:n.category};n.category&&n.category!=="all"&&f(parseInt(n.category)),n.program&&x(n.program),n.badge&&g(n.badge),n.keyword&&h(n.keyword),n.page||setTimeout(()=>{r.post(route("member.filter",Object.fromEntries(Object.entries(l).filter(([i,$])=>$!=null))),l)},1e3)},[]);const C=l=>{const i={...p,category:l};f(l),r.post(route("member.filter",{category:d}),i)},L=l=>{const i={...p,sort:l};P(l),r.post(route("member.filter"),i)};return s(G,{children:[e(F,{title:"Member List"}),e("h1",{className:"text-3xl lg:text-4xl mb-2 font-bold",children:c("etb_network")}),s("div",{className:"flex justify-between items-center mb-6",children:[s("div",{className:"flex items-center gap-4",children:[e("img",{src:`/storage/programs/${a==null?void 0:a.image}`,className:"w-20 h-20 object-contain",alt:""}),s("div",{children:[e("h1",{className:"text-3xl font-bold mb-1",children:a==null?void 0:a.name}),e("p",{className:"lg:max-w-[75%]",children:a==null?void 0:a.description})]})]}),e("div",{className:"flex gap-8 items-start",children:u==null?void 0:u.map(l=>s("button",{type:"button",onClick:()=>{j({programData:l!=null&&l.id?parseInt(l==null?void 0:l.id):null})},className:"text-center",children:[e("img",{src:`/storage/programs/${l==null?void 0:l.image}`,className:"w-20 h-20 object-contain mb-1 mx-auto hover:scale-105 transition",alt:""}),e("p",{className:"font-bold w-20 text-center",children:l==null?void 0:l.name})]}))})]}),s("div",{className:"flex flex-wrap justify-between mb-6 pb-6 border-b",children:[s("div",{className:"mb-6 lg:mb-0 lg:w-3/4 lg:pr-4",children:[e("div",{className:"font-bold mb-2 text-lg",children:c("filter")}),s("div",{className:"flex flex-wrap lg:flex-nowrap",children:[s("div",{className:"flex w-full lg:w-auto",children:[(a==null?void 0:a.id)===1&&s("div",{className:"flex items-center mr-4 w-full lg:w-auto mb-4 lg:mb-0",children:[e(v,{className:"mr-4 w-1/4 lg:w-auto",value:c("badge")}),e(w,{options:B,value:y,labelData:"name",valueData:"id",className:"w-full",onChange:l=>g(parseInt(l.target.value)),children:e("option",{value:"",children:c("select_badge")})})]}),(a==null?void 0:a.id)===2&&s("div",{className:"flex items-center mr-4 w-full lg:w-auto mb-4 lg:mb-0",children:[e(v,{className:"mr-4 w-1/4 lg:w-auto",value:c("sources")}),e(w,{options:E,value:S,labelData:"title",valueData:"id",className:"w-full",onChange:l=>I(parseInt(l.target.value)),children:e("option",{value:"",children:c("select_source")})})]}),s("div",{className:"flex items-center mr-4 w-full lg:w-auto mb-4 lg:mb-0",children:[e(v,{className:"mr-4 w-1/4 lg:w-auto",value:c("keyword")}),e(K,{className:"w-full",value:k,onChange:l=>h(l.target.value)})]})]}),e("div",{className:"w-full lg:w-auto",children:e(z,{onClick:j,children:c("filter")})})]})]}),e("div",{className:"lg:w-1/4 ",children:s("div",{className:"ml-auto lg:w-3/4",children:[e("div",{className:"font-bold mb-2 text-lg inline-flex",children:c("sort")}),e("div",{className:"flex",children:e("div",{className:"flex items-center",children:e(w,{options:N,onChange:l=>L(l.target.value)})})})]})})]}),s("div",{className:"flex flex-wrap",children:[a.id===1&&e("div",{className:"sidebar w-full lg:w-1/6",children:s("ul",{className:"text-gray-600 font-light flex lg:block whitespace-nowrap overflow-auto gap-4 mb-6 lg:mb-0 pb-4",children:[e("li",{className:`cursor-pointer lg:mb-6 ${d==="all"?"font-bold text-primary":""}`,onClick:()=>C("all"),children:c("all")}),m==null?void 0:m.map(l=>e("li",{onClick:()=>C(l.id),id:l.id,className:`cursor-pointer lg:mb-6 whitespace-nowrap lg:whitespace-break-spaces ${d===l.id?"font-bold text-primary":""}`,children:c(l.name)}))]})}),(a==null?void 0:a.id)===1?s("div",{className:"lg:w-5/6 lg:pl-6",children:[e("div",{className:`${(a==null?void 0:a.id)===1?"xl:grid-cols-3":"xl:grid-cols-4"} grid md:grid-cols-2 gap-4 h-fit`,children:((T=t==null?void 0:t.data)==null?void 0:T.length)>0?(D=t==null?void 0:t.data)==null?void 0:D.map(l=>e(J,{member:l,tribe:a})):e("div",{className:"",children:e("h3",{className:" text-primary font-xl ",children:"Not Found"})})}),e(b,{class:"mt-6",links:t==null?void 0:t.links})]}):s("div",{className:"w-full",children:[s("div",{className:"grid member-tourism font-bold mb-6 bg-primary text-white py-4 px-4 gap-6",children:[e("div",{children:"Type"}),e("div",{children:"Business Name"}),e("div",{children:"Category"}),e("div",{children:"Directory Source"}),e("div",{children:"Action"})]}),((O=t==null?void 0:t.data)==null?void 0:O.length)>0?(_=t==null?void 0:t.data)==null?void 0:_.map((l,i)=>e(Q,{member:l,index:i,tribe:a})):e("div",{className:"",children:e("h3",{className:" text-primary font-xl ",children:"Not Found"})}),e(b,{class:"mt-6",links:t==null?void 0:t.links})]})]})]})}export{gl as default};
