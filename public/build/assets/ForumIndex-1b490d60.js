import{r as i,a,j as r,F as k,t as g}from"./app-0c39fb5f.js";import{q as C}from"./base-e8aaf39e.js";import{B as w}from"./Button-43af3bd7.js";import{T as P,P as I}from"./TitlePage-cdd0f038.js";import{T as j}from"./TextInput-3a2bbb35.js";import{S as T}from"./SelectInput-56db6feb.js";import{a as A,o as B,z as D,F as E}from"./index-e4045331.js";import G from"./ForumCard-fd41afc1.js";import{G as K}from"./GuestLayout-88387b49.js";import{u as M}from"./useTranslation-e654b818.js";import"./lodash-8200f8b7.js";import"./moment-fbc5633a.js";import"./id-410e5203.js";import"./logo-5e7252b7.js";function q({threads:l,activeUsers:f}){var b,h;const{t:n}=M(),[x,m]=i.useState(),[s,c]=i.useState({}),[p,u]=i.useState(),[N,v]=i.useState(),t=C.parse(location.search);i.useEffect(()=>{t!=null&&t.keyword&&u(t==null?void 0:t.keyword),t!=null&&t.category?m(t==null?void 0:t.category):m("home"),t!=null&&t.sort&&v(t==null?void 0:t.sort)},[]);const y=[{label:"Date - Newest",value:"date-descending"},{label:"Date - Oldest",value:"date-ascending"},{label:"Name - A to Z",value:"name-ascending"},{label:"Name - Z to A",value:"name-descending"},{label:"Most Popular",value:"comments-descending"}],F=()=>{const e={...s,keyword:p};c(e),g.get(route("member.forum.index",e))},S=e=>{const o={...s,sort:e};c(o),g.get(route("member.forum.index"),o)},_=e=>{m(e);const o={...s,category:e};c(o),g.get(route("member.forum.index"),o)},d=({title:e,icon:o})=>r("button",{onClick:()=>_(e),className:`flex items-center p-3 mb-1 gap-3 border-l-[10px] border-l-transparent rounded ${x===e&&"bg-lightPrimary text-primary  !border-l-primary font-bold"}`,children:[a(E,{icon:o,className:"fa-fw"}),n(e)]});return a(K,{children:r("main",{className:"grid gap-8 container",children:[r("section",{className:"flex justify-between flex-wrap items-center",children:[a("div",{className:"w-full lg:w-fit mb-6 lg:mb-0",children:a(P,{title:"member_forums",className:"!mb-0"})}),a("div",{children:a(w,{as:"link",href:"/member/forum/thread/create",color:"primary",children:n("start_new_topic")})})]}),r("section",{className:"flex justify-between items-center flex-wrap",children:[r("div",{className:"flex w-full lg:w-fit mb-4 lg:mb-0 gap-3 items-center flex-wrap",children:[a("label",{htmlFor:"search_topic",className:"min-w-[100px]",children:n("search_topic")}),a(j,{value:p,onChange:e=>u(e.target.value)}),a(w,{onClick:F,children:n("search")})]}),r("div",{className:"flex gap-3 items-center",children:[a("label",{htmlFor:"sort",className:"min-w-[100px] lg:min-w-fit",children:n("sort")}),a(T,{options:y,value:N,onChange:e=>S(e.target.value)})]})]}),r("section",{className:"flex gap-4 flex-wrap lg:flex-nowrap",children:[r("section",{className:"w-full lg:w-1/5 mb-4 lg:mb-0",children:[r("div",{className:"grid gap-3 border-b pb-3 mb-8 border-lightPrimary",children:[a(d,{title:"home",icon:A}),a(d,{title:"my_topics",icon:B}),a(d,{title:"announcements",icon:D})]}),r("div",{children:[a("h4",{className:"font-bold text-base mb-4",children:n("most_active_users")}),a("div",{className:"grid gap-6",children:f&&f.map(e=>r("div",{className:"flex items-center",children:[a("div",{children:a("img",{src:"/storage/member/images/"+(e==null?void 0:e.image),alt:"",className:"w-6 h-6 mr-2"})}),e==null?void 0:e.business_name]}))})]})]}),a("section",{className:"w-full lg:w-4/5 lg:pl-6",children:((b=l==null?void 0:l.data)==null?void 0:b.length)===0?a("h3",{className:"text-lg font-bold",children:"Not Found"}):r(k,{children:[a("div",{className:"grid gap-8 mb-6",children:(h=l==null?void 0:l.data)==null?void 0:h.map(e=>a(G,{thread:e}))}),a(I,{class:"mt-6",links:l==null?void 0:l.links})]})})]})]})})}export{q as default};
