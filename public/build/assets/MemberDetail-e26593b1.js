import{q as z,r as h,W,j as t,b as a,F as q}from"./app-cdc8cd06.js";import{A as P}from"./id-531b42c3.js";import{A as V}from"./AdminLayout-ee4574bd.js";import G from"./BackTo-f6effb76.js";import{S as d}from"./SelectInput-fc227df9.js";import{P as x}from"./PrimaryButton-6ccd38ab.js";import{l as N}from"./lodash-d12ac468.js";import{m as H}from"./moment-83c0fe62.js";import{b as y}from"./BadgeColor-9c6bdf3f.js";import{T as w}from"./TextInput-32e4389f.js";import{u as J}from"./useTranslation-1518e01b.js";import"./logo-5e7252b7.js";import"./index-dee09260.js";import"./react-responsive-ca12a935.js";function oe(){var v,u,_,f,b;const{member:e,categories:D,programs:C,verified_badges:S,remaining:k,dateAssessment:A,scores:I,lastSession:m,lastPayment:c}=z().props,{t:l}=J(),[n,g]=h.useState(!1),[B,j]=h.useState(e==null?void 0:e.status),{data:r,setData:o,post:F,processing:R,errors:K,reset:T}=W({category:(e==null?void 0:e.category_id)||"",program:e.program_id||"",verified_badge:e.verified_badge_id||"",total_payment:e.total_payment||"",status:e.status||null,invoice_no:(c==null?void 0:c.status_code)||null,invoice_item_text:(c==null?void 0:c.invoice_item_text)||null}),E=s=>{s.preventDefault(),F(route("admin.member.update",e.id),{onSuccess:()=>{T(),g(!1)}})};let L=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0});const M=[{label:"Rp2.000.000",value:2e6},{label:"Rp6.000.000",value:6e6},{label:"Rp12.000.000",value:12e6}],p=[{label:"Waiting Approval",value:"waiting_approval"},{label:"Payment",value:"payment"}],i=(s,$)=>t("div",{className:"flex flex-wrap mb-4",children:[a("div",{className:"w-full lg:w-1/4 mb-3 lg:mb-0",children:a("div",{className:"font-bold",children:l(s)})}),a("div",{className:"w-full lg:w-3/4",children:$||"-"})]});return t(V,{children:[a(G,{link:"/admin/member/index",title:"back_to_list_members"}),a(P,{children:t("div",{className:"flex mb-6 flex-wrap",children:[t("div",{className:"lg:w-4/5 pr-4",children:[t("div",{className:"flex items-center mb-6",children:[(e==null?void 0:e.image)&&a("img",{className:"mr-4 w-[100px]",src:`/storage/member/images/${e==null?void 0:e.image}`}),a("div",{className:"font-bold text-2xl",children:e==null?void 0:e.business_name})]}),a(x,{className:"mb-6",onClick:()=>g(!n),color:n?"gray":"primary",children:l(n?"close_edit_member":"edit_member")}),t("form",{onSubmit:E,children:[n&&!p.includes("active")?t("div",{className:"flex items-center mb-4",children:[a("div",{className:"font-bold lg:w-1/4",children:l("total_payment")}),a(d,{id:"status",name:"status",value:r.status,options:p,className:"lg:w-3/4",onChange:s=>{o("status",s.target.value),j(s.target.value)}})]}):i("status",N.capitalize(e==null?void 0:e.status.replace("_"," "))),n&&B==="payment"&&t(q,{children:[t("div",{className:"flex items-center mb-4",children:[a("div",{className:"font-bold lg:w-1/4",children:l("invoice_no")}),a(w,{id:"invoice_no",name:"invoice_no",value:r.invoice_no,className:"lg:w-3/4",onChange:s=>o("invoice_no",s.target.value)})]}),t("div",{className:"flex items-center mb-4",children:[a("div",{className:"font-bold lg:w-1/4",children:l("invoice_item_text")}),a(w,{id:"invoice_item_text",name:"invoice_item_text",value:r.invoice_item_text,className:"lg:w-3/4",onChange:s=>o("invoice_item_text",s.target.value)})]})]}),n?t("div",{className:"flex items-center mb-4",children:[a("div",{className:"font-bold lg:w-1/4",children:l("total_payment")}),a(d,{id:"total_payment",name:"total_payment",value:r.total_payment,options:M,placeholder:"select_total_payment",className:"lg:w-3/4",onChange:s=>o("total_payment",s.target.value)})]}):i("total_payment",L.format(e.total_payment)),i("email",e.user.email),i("address",e==null?void 0:e.address),i("phone",e.phone),i("website",e==null?void 0:e.website),i("business_name",e==null?void 0:e.business_name),i("business_type",(v=e==null?void 0:e.business_type)==null?void 0:v.name),n?t("div",{className:"flex items-center mb-4",children:[a("div",{className:"font-bold lg:w-1/4",children:l("category")}),a(d,{id:"category",name:"category",value:r.category,options:D,labelData:"name",placeholder:"select_category",valueData:"id",className:"lg:w-3/4",onChange:s=>o("category",s.target.value)})]}):i("category",(u=e==null?void 0:e.category)==null?void 0:u.name),n?t("div",{className:"flex items-center mb-4",children:[a("div",{className:"font-bold lg:w-1/4",children:l("program")}),a(d,{id:"program",name:"program",value:r.program,options:C,className:"lg:w-3/4",placeholder:"select_program",labelData:"name",valueData:"id",onChange:s=>o("program",s.target.value)})]}):i("program",(_=e==null?void 0:e.program)==null?void 0:_.name),i("assessment_attempt",k),i("assessment_expire",H(A).format("LL")),i("badge",(f=e==null?void 0:e.badge)==null?void 0:f.name),n?t("div",{className:"flex items-center mb-4",children:[a("div",{className:"font-bold lg:w-1/4",children:l("verified_badge")}),a(d,{id:"verified_badge",name:"verified_badge",value:r.verified_badge,options:S,className:"lg:w-3/4",labelData:"name",placeholder:"select_verify_badge",valueData:"id",onChange:s=>o("verified_badge",s.target.value)})]}):i("verified_badge",(b=e==null?void 0:e.verified_badge)==null?void 0:b.name),i("description",e==null?void 0:e.description),n&&a(x,{type:"submit",className:"mt-4",disabled:R,children:l("submit")})]})]}),t("div",{className:"lg:w-1/5 mx-auto flex lg:block gap-12 sticky top-0 lg:border-l pl-4 mt-10 lg:mt-0",children:[e.verified_badge&&t("div",{className:"flex flex-col items-center text-primary uppercase mb-4 pb-4 lg:border-b",children:[a("div",{children:a("img",{className:"max-h-[120px]",src:"/storage/badges/"+e.verified_badge.image})}),t("div",{className:`font-bold mt-1 text-center ${y(e.badge.name,"text")}`,children:[e.verified_badge.name," Verified Badge"]})]}),e!=null&&e.badge?t("div",{children:[t("div",{className:"flex flex-col items-center  uppercase mb-1",children:[a("div",{children:a("img",{className:"max-h-[120px]",src:"/storage/badges/"+e.badge.image})}),t("div",{className:`font-bold mt-1 ${y(e.badge.name,"text")}`,children:[e.badge.name," Badge"]})]}),m&&t("div",{className:"text-center text-gray-500  text-xs mb-3",children:[a("span",{className:"font-bold",children:m.total_score}),"Â ",a("span",{className:" uppercase",children:"Points"})]}),I.map(s=>t("div",{className:"flex justify-center text-gray-500 text-xs mb-1",children:[a("div",{className:"capitalize",children:N.lowerCase(s.assessment.title).slice(0,11)}),a("div",{className:"mx-1",children:"-"}),a("div",{children:s.score})]}))]}):a("div",{className:"bg-slate-600 text-white rounded-full px-3 py-1 font-bold inline-block",children:"No Badge"})]})]})})]})}export{oe as default};
