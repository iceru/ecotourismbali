import{r as v,W as N,j as e,a as n,t as _}from"./app-57152477.js";import{A as $}from"./id-9fb793ba.js";import{M as k}from"./MemberLayout-dd12d806.js";import S from"./TitleSection-52a10389.js";import{P as h}from"./PrimaryButton-418e0c93.js";import{u as j}from"./useTranslation-3aff53ba.js";import"./index-f26b8ad5.js";import"./react-responsive-63dfa4ad.js";function B({assessments:d,session:m}){const[c,p]=v.useState(0),{t:l}=j(),{data:u,setData:o,post:x,processing:A,errors:C}=N(),b=s=>{s.preventDefault(),x(route("member.assessment.save"),{onSuccess:()=>{d.length>c+1?p(c+1):_.post(route("member.assessment.complete",m.id))}})},f=(s,a)=>{o(t=>({...t,[`radio.${s}`]:a,assessment_id:d[c].id,session_id:m.id}))},g=(s,a)=>{o(t=>{const i=t[`checkbox.${s}`]||[];if(i.includes(a)){const r=i.filter(y=>y!==a);return{...t,[`checkbox.${s}`]:r}}else{const r=[...i,a];return{...t,[`checkbox.${s}`]:r}}})};return e(k,{children:n($,{children:[e(S,{title:"assessment",className:"mb-6"}),e("div",{children:d.map((s,a)=>n("form",{onSubmit:b,className:`${c===a?"":"hidden"}`,children:[e("div",{className:"mb-4",children:e("img",{src:`/storage/assessments/${s.image}`,alt:""})}),e("div",{className:"font-bold mb-3 text-xl text-center",children:s.title}),e("div",{dangerouslySetInnerHTML:{__html:s.description},className:"text-center mb-10"}),s.assessment_question.map((t,i)=>n("div",{children:[e("div",{className:"font-bold text-lg",children:t.title}),e("div",{dangerouslySetInnerHTML:{__html:t.question}}),e("div",{className:"mt-4",children:t.assessment_option.map(r=>n("div",{className:"flex items-center px-5 py-3 mb-4 rounded-3xl bg-lightPrimary bg-opacity-60",children:[t.type==="radio"?e("input",{type:"radio",name:`radio.${t.id}`,id:`option_${r.id}`,value:r.id,className:"mr-3 text-primary focus:ring-primary",checked:u[`radio.${t.id}`]===r.id,required:!0,onChange:()=>f(t.id,r.id)}):e("input",{type:"checkbox",name:`checkbox.${t.id}`,id:`option_${r.id}`,value:r.id,className:"mr-3 text-primary focus:ring-primary",onChange:()=>g(t.id,r.id)}),e("label",{htmlFor:`option_${r.id}`,className:"w-full",children:r.option})]}))}),i+1!==s.assessment_question.length&&e("div",{className:"h-0.5 w-1/2 my-10 box-border left-1/2 mx-auto -translate-y-1/2 bg-gray-300"})]})),n("div",{className:"flex justify-center gap-6 mt-6",children:[e(h,{className:"min-w-[160px] flex justify-center",color:"gray",children:l("back")}),e(h,{type:"submit",className:"min-w-[160px] flex justify-center",children:l("next")})]})]}))})]})})}export{B as default};
