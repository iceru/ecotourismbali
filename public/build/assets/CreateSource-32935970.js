import{q as S,r as i,W as T,j as t,a as e}from"./app-9ddcf5bf.js";import{I as o}from"./InputLabel-ecf99f96.js";import{B as k}from"./Button-54684452.js";import{T as u}from"./TextInput-904bf013.js";import{A}from"./AdminLayout-00fd170d.js";import p from"./TitleSection-e781d1ed.js";import{A as g}from"./AdminSection-c3d915a8.js";import{T as F}from"./Table-71adbf4c.js";import"./index-6bd32334.js";import{u as D}from"./useTranslation-3d2a51b3.js";import"./logo-5e7252b7.js";import"./index-11fa6b5e.js";import"./id-410e5203.js";import"./react-responsive-414025a2.js";import"./index-25fc1de7.js";function P({sources:f}){const{t:a}=D(),{flash:c}=S().props,[n,b]=i.useState(""),[m,h]=i.useState(""),{data:d,setData:s,post:N,processing:v,errors:r,reset:x}=T({title:"",description:"",image:null}),w=["ID","Title","Image","Description","Action"],_=["id","title","image","description"],y=[{label:"edit_button",link:"/admin/source/edit",withId:!0,color:"info"},{label:"delete_button",route:"source.destroy",withId:!0,color:"danger",type:"delete"}],I=l=>{l.preventDefault(),N(route("source.store"),{onSuccess:()=>{x(),b(),h()}})};return i.useEffect(()=>{s("content",n)},[n]),i.useEffect(()=>{s("content_en",m)},[m]),t(A,{children:[t(g,{className:"flex flex-col gap-6 mb-6",children:[e(p,{title:"create_source_title"}),c.success&&t("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[e("strong",{className:"font-bold mr-2",children:"Success!"}),e("span",{className:"inline",children:c.success})]}),t("form",{className:" flex flex-col gap-6 w-full",onSubmit:I,children:[t("div",{className:"block lg:flex items-center",children:[e("div",{className:"lg:w-1/5 mb-2 lg:mb-0",children:e(o,{htmlFor:"title",value:a("form_label_title")})}),t("div",{className:"lg:w-4/5",children:[e(u,{id:"title",name:"title",type:"text",value:d.title,className:"block w-full",isFocused:!0,onChange:l=>s("title",l.target.value)}),e("span",{className:"text-red-600",children:r.title})]})]}),t("div",{className:"block lg:flex items-center",children:[e("div",{className:"lg:w-1/5 mb-2 lg:mb-0",children:e(o,{htmlFor:"description",value:a("form_label_description")})}),t("div",{className:"lg:w-4/5",children:[e(u,{id:"description",name:"description",typeForm:"textarea",value:d.description,className:"block w-full",isFocused:!0,rows:4,onChange:l=>s("description",l.target.value)}),e("span",{className:"text-red-600",children:r.description})]})]}),t("div",{className:"block lg:flex items-center",children:[e("div",{className:"lg:w-1/5 mb-2 lg:mb-0",children:e(o,{htmlFor:"image",value:a("form_label_image")})}),t("div",{className:"lg:w-4/5",children:[e("input",{type:"file",name:"image",id:"image",className:"block",onChange:l=>s("image",l.target.files[0])}),e("span",{className:"text-red-600",children:r.image})]})]}),e(k,{color:"secondary",className:"w-fit",disabled:v,children:a("submit")})]})]}),t(g,{children:[e(p,{title:"list_source_title",className:"mb-5"}),e(F,{header:w,data:f,selectedData:_,tableActions:y,pathImage:"sources/"})]})]})}export{P as default};
