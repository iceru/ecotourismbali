import{q as C,r,W as A,j as l,a as e}from"./app-18637e2f.js";import{I as n}from"./InputLabel-4671ffa3.js";import{P as E}from"./PrimaryButton-63deed86.js";import{T as d}from"./TextInput-f04854f7.js";import{A as S}from"./AdminLayout-44ccb466.js";import b from"./TitleSection-d1e74213.js";import{A as p}from"./AdminSection-11d95163.js";import{T as P}from"./Table-088e6fef.js";import f from"./Editor-172ae0b1.js";import{u as j}from"./useTranslation-e546e88f.js";import"./logo-5e7252b7.js";import"./index-cc85014b.js";import"./id-410e5203.js";import"./react-responsive-f6ecd668.js";function R({module:v}){const{t:a}=j(),{flash:u}=C().props,[o,h]=r.useState(""),[c,g]=r.useState(""),{data:m,setData:s,post:N,processing:_,errors:i,reset:w}=A({title:"",description:"",image:null,content:null,content_en:null,video:"",attachment:null,author:""}),x=["Title","Image","Author","Post Test","Pre Test","Action"],k=["title","image","author"],F=[{label:"add_pre_test",link:"/admin/module/",link2:"/pre-question",withId:!0},{label:"add_post_test",link:"/admin/module/",link2:"/post-question",withId:!0}],y=[{label:"edit_button",link:"/admin/module/edit",withId:!0,color:"info"},{label:"show_button",link:"/admin/module/show",withId:!0,color:"show"},{label:"delete_button",route:"module.destroy",withId:!0,color:"danger",type:"delete"}],I=t=>{t.preventDefault(),N(route("module.store"),{onSuccess:()=>{w(),h(),g()},onError:T=>{console.log(T)}})};return r.useEffect(()=>{s("content",o)},[o]),r.useEffect(()=>{s("content_en",c)},[c]),l(S,{children:[l(p,{className:"flex flex-col gap-6 mb-6",children:[e(b,{title:"create_module_title"}),u.success&&l("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[e("strong",{className:"font-bold mr-2",children:"Success!"}),e("span",{className:"inline",children:u.success})]}),l("form",{className:" flex flex-col gap-6 w-full",onSubmit:I,children:[l("div",{className:"block lg:flex items-center",children:[e("div",{className:"lg:w-1/5 mb-2 lg:mb-0",children:e(n,{htmlFor:"title",value:a("form_label_title")})}),l("div",{className:"lg:w-4/5",children:[e(d,{id:"title",name:"title",type:"text",value:m.title,className:"block w-full",isFocused:!0,onChange:t=>s("title",t.target.value)}),e("span",{className:"text-red-600",children:i.title})]})]}),l("div",{className:"block lg:flex items-center",children:[e("div",{className:"lg:w-1/5 mb-2 lg:mb-0",children:e(n,{htmlFor:"description",value:a("form_label_description")})}),l("div",{className:"lg:w-4/5",children:[e(d,{id:"description",name:"description",typeForm:"textarea",value:m.description,className:"block w-full",isFocused:!0,rows:4,onChange:t=>s("description",t.target.value)}),e("span",{className:"text-red-600",children:i.description})]})]}),l("div",{className:"block lg:flex items-center",children:[e("div",{className:"lg:w-1/5 mb-2 lg:mb-0",children:e(n,{htmlFor:"content",value:a("form_label_content")})}),l("div",{className:"lg:w-4/5",children:[e(f,{onChange:h,value:o}),e("span",{className:"text-red-600",children:i.content})]})]}),l("div",{className:"block lg:flex items-center",children:[e("div",{className:"lg:w-1/5 mb-2 lg:mb-0",children:e(n,{htmlFor:"content_en",value:a("form_label_content_en")})}),l("div",{className:"lg:w-4/5",children:[e(f,{onChange:g,value:c}),e("span",{className:"text-red-600",children:i.content_en})]})]}),l("div",{className:"block lg:flex items-center",children:[e("div",{className:"lg:w-1/5 mb-2 lg:mb-0",children:e(n,{htmlFor:"author",value:a("form_label_author")})}),l("div",{className:"lg:w-4/5",children:[e(d,{id:"author",name:"author",value:m.author,className:"block w-full",isFocused:!0,rows:8,onChange:t=>s("author",t.target.value)}),e("span",{className:"text-red-600",children:i.author})]})]}),l("div",{className:"block lg:flex items-center",children:[e("div",{className:"lg:w-1/5 mb-2 lg:mb-0",children:e(n,{htmlFor:"image",value:a("form_label_image")})}),l("div",{className:"lg:w-4/5",children:[e("input",{type:"file",name:"image",id:"image",className:"block",onChange:t=>s("image",t.target.files[0])}),e("span",{className:"text-red-600",children:i.image})]})]}),l("div",{className:"block lg:flex items-center",children:[e("div",{className:"lg:w-1/5 mb-2 lg:mb-0",children:e(n,{htmlFor:"video",value:a("form_label_video")})}),l("div",{className:"lg:w-4/5",children:[e("input",{type:"file",name:"video",id:"video",className:"block",onChange:t=>s("video",t.target.files[0])}),e("span",{className:"text-red-600",children:i.video})]})]}),l("div",{className:"block lg:flex items-center",children:[e("div",{className:"lg:w-1/5 mb-2 lg:mb-0",children:e(n,{htmlFor:"attachment",value:a("form_label_attachment")})}),l("div",{className:"lg:w-4/5",children:[e("input",{type:"file",name:"attachment",id:"attachment",className:"block",onChange:t=>s("attachment",t.target.files[0])}),e("span",{className:"text-red-600",children:i.attachment})]})]}),e(E,{color:"secondary",className:"w-fit",disabled:_,children:a("submit")})]})]}),l(p,{children:[e(b,{title:"list_module_title",className:"mb-5"}),e(P,{header:x,data:v,selectedData:k,tableButtons:F,tableActions:y,pathImage:"modules/"})]})]})}export{R as default};
