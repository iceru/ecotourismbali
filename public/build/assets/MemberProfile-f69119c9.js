import{q as $,a,j as i}from"./app-386a5830.js";import{F as s,G as _,H as I,x as A,a as j,E as k,I as B}from"./index-4c4ddfcc.js";import{S as C,f as O,a as T,b as E,c as F}from"./index-05a3c35b.js";import{A as G}from"./AdminSection-e4bf563a.js";import{M as L}from"./MemberLayout-52f72c51.js";import{B as n}from"./Button-ff0fa86d.js";import{n as M}from"./no-image-91387054.js";import{l as H}from"./lodash-3ca93795.js";import{b as q}from"./BadgeColor-21c2464b.js";import{h as z}from"./moment-fbc5633a.js";import{u as R}from"./useTranslation-cdd3817d.js";import"./id-410e5203.js";import"./react-responsive-50926389.js";function W(t){let e=t;return t&&(t.toString().indexOf("62")===0?e=t.toString().slice(2):t.toString().indexOf("+62")===0?e=t.toString().slice(3):t.toString().indexOf("0062")===0?e=t.toString().slice(4):t.toString().indexOf("0")===0&&(e=t.toString().slice(1))),e}function D(t){return!t||Number.isNaN(t)?null:62+W(t)}function st({member:t,scores:e,lastSession:d,expiredDate:S}){var o,h,f,p,g,x,u,N,v,y;const{t:l}=R(),{flash:r}=$().props,P={dots:!0,infinite:!0,speed:500,slidesToShow:t.member_slider.length>1?2:t.member_slider.length,slidesToScroll:1};return a(L,{children:i(G,{children:[a("h2",{className:"font-bold text-xl mb-4",children:l("my_profile")}),r.success&&i("div",{className:"bg-green-100 border border-green-400 mb-3 text-green-700 px-4 py-3 rounded relative",children:[a("strong",{className:"font-bold mr-2",children:"Success!"}),a("span",{className:"inline",children:r.success})]}),i(n,{as:"link",href:route("member.profile.edit",t==null?void 0:t.id),className:"mb-6 flex items-center gap-2",children:[l("edit_profile"),a(s,{icon:_})]}),i(n,{as:"link",href:route("profile.edit",t==null?void 0:t.id),className:"mb-6 flex items-center gap-2 ml-4",color:"secondary",children:[l("change_password"),a(s,{icon:I})]}),i("div",{className:"flex flex-wrap",children:[i("div",{className:"w-full mb-4 lg:mb-0 lg:w-4/5",children:[i("div",{className:"flex items-center mb-10",children:[a("div",{className:"w-24 h-24 bg-primary bg-opacity-10 flex justify-center items-center rounded-full ",children:t.image?a("img",{className:"w-24 h-24 object-contain rounded-full",src:`/storage/member/images/${t.image}`,alt:""}):a("img",{className:"w-24 h-24 rounded-full",src:M,alt:""})}),i("div",{className:"ml-4",children:[a("h3",{className:"font-bold text-lg",children:t.business_name||"Business Name"}),t.category&&a("h6",{className:"uppercase text-primary",children:(o=t.category)==null?void 0:o.name}),t.program&&a("h6",{className:"text-sm",children:(h=t.program)==null?void 0:h.name})]})]}),a("div",{className:"mb-10",children:t.member_slider.length>0?a("div",{className:"-mx-2",children:a(C,{...P,children:t.member_slider.map(c=>a("div",{className:"px-2",children:a("div",{class:"relative overflow-hidden pb-2/3",children:a("img",{src:`/storage/member/sliders/${c.image}`,alt:"",class:"absolute h-full w-full object-cover p-2"})})}))})}):i("div",{className:"flex gap-2 text-gray-600 justify-center items-center p-6 py-12 border rounded-lg border-dashed border-gray-600",children:[l("add_slider"),a(s,{icon:A})]})}),i("div",{className:"flex justify-center gap-8 mb-10",children:[a("div",{children:t!=null&&t.address?i("div",{className:"flex gap-2 text-gray-600 justify-center items-center",children:[a(s,{icon:j}),a("div",{children:t.address})]}):i("a",{className:"flex gap-2 text-gray-600 justify-center items-center cursor-pointer",href:route("member.profile.edit",t==null?void 0:t.id),children:[l("add_address"),a(s,{icon:j})]})}),a("div",{children:t!=null&&t.website?i("div",{className:"flex gap-2 text-gray-600 justify-center items-center",children:[a(s,{icon:k}),a("div",{children:t.website})]}):i("a",{className:"flex gap-2 text-gray-600 justify-center items-center cursor-pointer",href:route("member.profile.edit",t==null?void 0:t.id),children:[l("add_website"),a(s,{icon:k})]})})]}),a("div",{className:"mb-6",children:t!=null&&t.description?a("div",{className:"text-justify",children:t.description}):i("a",{className:"flex gap-2 text-gray-600 justify-center items-center cursor-pointer",href:route("member.profile.edit",t==null?void 0:t.id),children:[l("add_description"),a(s,{icon:_})]})}),i("div",{className:"flex justify-between items-end gap-6",children:[i("div",{className:"flex gap-6 h-fit",children:[t.facebook&&a("div",{className:"w-12 h-12 flex justify-center items-center rounded-full bg-primary text-white",children:a("a",{href:(f=t==null?void 0:t.facebook)!=null&&f.includes("http")?t.facebook:`https://${t.facebook}`,target:"_blank",className:"mt-1",children:a(s,{icon:O,className:"text-2xl"})})}),t.instagram&&a("div",{className:"w-12 h-12 flex justify-center items-center rounded-full bg-primary text-white",children:a("a",{href:(p=t.instagram)!=null&&p.includes("http")?t.instagram:`https://${t.instagram}`,target:"_blank",className:"mt-1",children:a(s,{icon:T,className:"text-2xl"})})}),t.whatsapp&&a("div",{className:"w-12 h-12 flex justify-center items-center rounded-full bg-primary text-white",children:a("a",{href:(g=t.whatsapp)!=null&&g.includes("http")?t.whatsapp:`https://wa.me/${D(t.whatsapp)}`,target:"_blank",className:"mt-1",children:a(s,{icon:E,className:"text-2xl"})})}),t.twitter&&a("div",{className:"w-12 h-12 flex justify-center items-center rounded-full bg-primary text-white",children:a("a",{href:(x=t.twitter)!=null&&x.includes("http")?t.twitter:`https://${t.twitter}`,target:"_blank",className:"mt-1",children:a(s,{icon:F,className:"text-2xl"})})})]}),(t==null?void 0:t.merchant_promo)&&i("div",{className:"bg-primary text-white p-4 rounded-xl",children:[a("h5",{className:"font-semibold text-lg mb-2",children:l("merchant_promo")}),a("p",{children:t==null?void 0:t.merchant_promo})]})]})]}),((u=t==null?void 0:t.program)==null?void 0:u.name)!=="Green Pal"&&a("div",{className:"w-full lg:w-1/5",children:t.badge?i("div",{children:[i("div",{className:"flex flex-col items-center   mb-1",children:[a("div",{children:a("img",{className:"max-h-[120px]",src:"/storage/badges/"+((N=t==null?void 0:t.badge)==null?void 0:N.image)})}),i("div",{className:`font-bold mt-1 text-center uppercase ${q((v=t==null?void 0:t.badge)==null?void 0:v.name,"text")}`,children:[(y=t==null?void 0:t.badge)==null?void 0:y.name," Badge"]}),i("div",{className:"text-xs text-center mt-1 mb-1 text-gray-500",children:["Expired: ",z(S).format("ll")]})]}),d&&i("div",{className:"text-center text-gray-500 text-xs mb-1",children:[a("span",{className:"font-bold",children:d.total_score})," ",a("span",{className:" uppercase",children:"Points"})]}),e==null?void 0:e.map(c=>{var w;return i("div",{className:"flex justify-center text-gray-500 text-xs mb-1",children:[a("div",{className:"capitalize",children:H.lowerCase((w=c==null?void 0:c.assessment)==null?void 0:w.title).slice(0,11)}),a("div",{className:"mx-1",children:"-"}),a("div",{children:c==null?void 0:c.score})]})})]}):a("div",{children:i(n,{as:"link",href:route("member.assessment.index"),color:"lightPrimary",className:"flex gap-2 items-center",children:[l("start_assessment"),a(s,{icon:B})]})})})]})]})})}export{st as default};
